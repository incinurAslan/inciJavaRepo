
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head></h:head> 
<body style="align-items: center; align-content:center; align-self:center;  border-bottom-style: double; border-top-style:double; border-spacing: 600cm; border-left-style:double; border-right-style:double; border-width: 0.3cm; border-color:gray; padding-left: 0.5%; padding-right: 0.5%; padding-top: 0.5%; padding-bottom: 0.5%;"> 


<div style="background-color:#D3D3D3; background-size: inherit; font-style:italic; align-content:center; font-size: medium; border-bottom: gray; border-bottom-style:double; border-top: gray; border-top-style:double; padding-bottom: 1%; padding-top: 1%">

<h:form>

	<h:commandLink action = "RegisterNewJira?faces-redirect = true" value = "Register_New_CR">
   </h:commandLink>
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	
	
   <h:commandLink action = "GetAllCustomers?faces-redirect = true" value = "Get_All_Customers">
   </h:commandLink>
  	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	
	
   <h:commandLink action = "AddCustomer?faces-redirect = true" value = "Add_New_Customer">
   </h:commandLink>
  	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	
 
   <h:commandLink action = "GetAllProducts?faces-redirect = true" value = "Get_All_Products">
   </h:commandLink>
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	
   
   <h:commandLink action = "AddProduct?faces-redirect = true" value = "Add_New_Product">
   </h:commandLink>
  	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />

   
    <h:commandLink action = "#{loginBean.logout()}" value = "Log Out">
   </h:commandLink>
   
</h:form>
</div>

<br>

</br>

<div>

<h:form>

<h:inputText value="#{jiraBean.jira.jiraNo}"/>
<h:commandButton action="#{jiraBean.searchJirasByJiraNo()}" value="SeachByJiraNo"/>

	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
</h:form>


<h:form>

<h:inputText value="#{jiraBean.jira.projectManager}"/>
<h:commandButton action="#{jiraBean.searchJirasByProjectManager()}" value="SeachByPM" />

	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
</h:form>


<h:form>

<h:inputText value="#{productBean.product.productName}"/>
<h:commandButton action="#{jiraBean.searchJirasByProductName()}" value="SearchByProduct"/>

	<h:outputText value="&#160;" />
	<h:outputText value="&#160;" />
</h:form>

</div>

<h2 style="border-bottom-style: double;">All CR Records</h2>
<table cellpadding="2" cellspacing="2" border="2">
<tr style="background-color: black; color:white; text-align: left;">
<th>JiraNo</th>
<th>JiraCustomer</th>
<th>Title</th>
<th>JiraProducts</th>
<th>Status</th>
<th>ProjectManager</th>
<th>CreationDate</th>
<th>Effort</th>
<th>CRFormDate</th>
<th>EffortApprovalDate</th>
<th>PlannedUatDate</th>
<th>ActualUatDate</th>
<th>LiveApprovalDate</th>
<th>ReleaseDate</th>
<th>JiraPrice</th>
<th>Update</th>
<th>Delete</th>
</tr>

<h:form>
	<ui:repeat var="jira" value="#{jiraBean.jiras}">
		<tr style="background-color:threedlightshadow;">
		<td>#{jira.jiraNo}</td>
		<td>
			<ui:repeat var="jcustomer" value="#{jira.jiraCustomers}">
				#{jcustomer.customerName}
			</ui:repeat>
		</td>
		<td>#{jira.jiraTitle}</td>
		<td>
			<ui:repeat var="jproduct" value="#{jira.jiraProducts}">
				#{jproduct.productName}
			</ui:repeat>
		</td>
		<td>#{jira.jiraStatus}</td>
		<td>#{jira.projectManager}</td>
		<td>#{jira.creationDate}</td>
		<td>#{jira.effort}</td>
		<td>#{jira.crFormDate}</td>
		<td>#{jira.effortApprovalDate}</td>
		<td>#{jira.plannedUatDate}</td>
		<td>#{jira.actualUatDate}</td>
		<td>#{jira.liveApprovalDate}</td>
		<td>#{jira.releaseDate}</td>
		<td>#{jiraBean.getEachJiraPrice(jira)}</td>
		
		<td><h:column>
			<f:facet name="header">Action</f:facet>
			<h:commandLink action="#{jiraBean.viewJira(jira)}" value="ClickToUpdate" />
		</h:column></td>
		
		<td><h:column>
			<f:facet name="header">Delete</f:facet>
			<h:commandLink action="#{jiraBean.deleteJira(jira.jiraNr)}" value="Delete" />
		
		</h:column></td>
				
		</tr>
		
	</ui:repeat>
	
	
	<h:outputText value="The Total Price of the CRs: " style="background-color:#FFFFE0;"/>
	<h:outputLabel value="#{jiraBean.countTotalEffort()}"  />
	
	<br>
	
	</br>
	
	</h:form>
	

</table>

</body> 
</html>
